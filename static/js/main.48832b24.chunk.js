(this["webpackJsonpzaliczenie-react"]=this["webpackJsonpzaliczenie-react"]||[]).push([[0],{16:function(e,t,c){},19:function(e,t,c){},20:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(10),s=c.n(a),r=c(5),i=c(6),l=c(4),o=(c(16),c(0));var j=function(){return Object(o.jsx)("h1",{className:"title",children:Object(o.jsx)(r.b,{to:"/",children:"Where in the world?"})})};var d=function(e){var t=e.countryData,c=t;return Object(o.jsx)("div",{className:"card",children:Object(o.jsxs)(r.b,{to:"/country/".concat(c.alpha3Code),children:[Object(o.jsx)("div",{className:"card-img",children:Object(o.jsx)("img",{src:c.flag,alt:c.name,width:"300px"})}),Object(o.jsxs)("div",{className:"card-text",children:[Object(o.jsx)("h1",{className:"country-name",children:c.name}),Object(o.jsxs)("div",{className:"population",children:[Object(o.jsx)("span",{children:"Population:"})," ",function(e){return e.population.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}(c)]}),Object(o.jsxs)("div",{className:"region",children:[Object(o.jsx)("span",{children:"Region:"})," ",c.subregion]}),Object(o.jsx)("div",{className:"capital",children:Object(o.jsxs)("span",{children:["Capital: ",c.capital]})})]})]})},t[0])},u=c(9),b=c.n(u),h=c(11),O=c(2),x=(c(19),c.p+"static/media/spinner.11d9cde8.gif"),m=c.p+"static/media/left-arrow.cb0898b1.svg",p=function(){var e=Object(O.g)(),t=Object(n.useState)(),c=Object(l.a)(t,2),a=c[0],s=c[1];function j(){return(j=Object(h.a)(b.a.mark((function t(){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://restcountries.com/v2/alpha/".concat(e.country));case 2:return t.next=4,t.sent.json();case 4:(c=t.sent).status?console.log("tutaj zrobic redirect do '/'"):s(Object(i.a)({},c));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){j.apply(this,arguments)}()}),[e.country]),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(r.b,{to:"/",children:Object(o.jsxs)("button",{className:"back-btn",children:[Object(o.jsx)("img",{src:m,width:"30px",alt:""}),"Back"]})}),a&&Object(o.jsx)("div",{className:"fullCard",children:Object(o.jsxs)("div",{className:"detailedCard row",children:[Object(o.jsx)("div",{className:"detailed-card-img",children:Object(o.jsx)("img",{src:a.flag,alt:""})}),Object(o.jsxs)("div",{className:"detailed-card-text",children:[Object(o.jsx)("div",{className:"detailed-country-name",children:a.name}),Object(o.jsxs)("div",{className:"details-row",children:[Object(o.jsxs)("div",{className:"details-row1",children:[Object(o.jsxs)("div",{className:"country-native-name",children:[Object(o.jsx)("span",{children:"Native Name: "}),a.nativeName]}),Object(o.jsxs)("div",{className:"population",children:[Object(o.jsx)("span",{children:"Population:"})," ",a.population?a.population.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"Unknown"]}),Object(o.jsxs)("div",{className:"region",children:[Object(o.jsx)("span",{children:"Region:"})," ",a.subregion]}),Object(o.jsx)("div",{className:"capital",children:Object(o.jsxs)("span",{children:["Capital: ",a.capital]})})]}),Object(o.jsxs)("div",{className:"details-row2",children:[Object(o.jsxs)("div",{className:"size",children:[Object(o.jsx)("span",{children:"Size: "}),a.area?a.area.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"Unknown"," ",Object(o.jsxs)("span",{children:[" km",Object(o.jsx)("sup",{children:"2"})]})]}),Object(o.jsxs)("div",{className:"currencies",children:[Object(o.jsx)("span",{children:"Currencies: "}),a.currencies.map((function(e){return e.name})).join(", ")]}),Object(o.jsxs)("div",{className:"languages",children:[Object(o.jsx)("span",{children:"Languages: "}),a.languages.map((function(e){return e.name})).join(", ")]})]})]}),(null===a||void 0===a?void 0:a.borders)&&(null===a||void 0===a?void 0:a.borders.length)&&Object(o.jsxs)("div",{className:"borders",children:[Object(o.jsx)("span",{children:"Border Countries: "}),a.borders.map((function(e){return Object(o.jsx)(r.b,{to:"/country/".concat(e),children:Object(o.jsx)("button",{className:"border-btn",children:e})},e)}))]})]})]})}),!a&&Object(o.jsx)("img",{className:"loader",src:x,alt:""})]})},v=c.p+"static/media/search.7579a26a.svg",f=["Worldwide","Africa","Americas","Asia","Europe","Oceania"],g=function(e){var t=e.onChangeRegion,c=e.onFilterCountries,n=e.filterValue;return Object(o.jsxs)("div",{className:"search-bar row",children:[Object(o.jsx)("div",{className:"search-icon",children:Object(o.jsx)("img",{src:v,alt:"search",width:"30px"})}),Object(o.jsx)("input",{onInput:function(e){return c(e.target.value)},type:"text",placeholder:"Search for a country...",value:n}),Object(o.jsx)("select",{name:"region",className:"regionFilter",onChange:function(e){return t(e.target.value)},value:localStorage.getItem("savedRegion")||"",children:f.map((function(e){return Object(o.jsx)("option",{value:"Worldwide"===e?"":e,children:e},e)}))})]})};var N=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(),r=Object(l.a)(s,2),u=r[0],b=r[1],h=Object(n.useState)(""),m=Object(l.a)(h,2),v=m[0],f=m[1],N=Object(n.useState)(),w=Object(l.a)(N,2),C=w[0],y=w[1];function S(e){var t,n=null===e||void 0===e||null===(t=e.toLowerCase())||void 0===t?void 0:t.trim(),a=C||Object.values(c),s=e&&""!==e?Object.values(a).filter((function(e){return e.name.toLowerCase().includes(n)||e.alpha3Code.toLowerCase().includes(n)||e.nativeName.toLowerCase().includes(n)})):a;b(s)}var k=function(e){if(e&&""!==e){var t=Object.values(c||[]).filter((function(t){return t.region===e}));y(t),b(t)}else b(c),y(c);localStorage.setItem("savedRegion",e)};return Object(n.useEffect)((function(){fetch("https://restcountries.com/v2/all/").then((function(e){return e.json()})).then((function(e){a(Object(i.a)({},e)),b(Object(i.a)({},e))}))}),[]),Object(n.useEffect)((function(){k(localStorage.getItem("savedRegion")||"")}),[c]),Object(n.useEffect)((function(){v&&S(v)}),[C]),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(j,{}),Object(o.jsxs)(O.c,{children:[Object(o.jsx)(O.a,{path:"country/:country",element:Object(o.jsx)(p,{})}),Object(o.jsx)(O.a,{path:"*",element:Object(o.jsxs)("div",{children:[Object(o.jsx)(g,{onFilterCountries:function(e){return f(e,S(e))},onChangeRegion:function(e){return k(e)},filterValue:v}),Object(o.jsxs)("div",{className:"showFilteredCountries row",children:[u&&Object.entries(u).map((function(e){var t;return Object(o.jsx)(d,{countryData:e[1]},(null===(t=e[1])||void 0===t?void 0:t.alpha3Code)||e[1].alpha2Code)})),!c&&Object(o.jsx)("img",{className:"loader",src:x,alt:""}),v&&0===u.length&&Object(o.jsx)("div",{children:"No countries found"})]})]})})]})]})};s.a.render(Object(o.jsx)(r.a,{children:Object(o.jsx)(N,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.48832b24.chunk.js.map